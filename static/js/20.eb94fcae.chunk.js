(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{214:function(e,t,a){"use strict";function r(e,t){var a=t.left,r=t.right,n=t.mirror,l=t.opposite,o=(a?1:0)|(r?2:0)|(n?16:0)|(l?32:0)|(e?64:0);if(u.hasOwnProperty(o))return u[o];if(!n!=!(e&&l)){var c=[r,a];a=c[0],r=c[1]}var s=a?"-100%":r?"100%":"0",m=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+s+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+s+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return u[o]=(0,i.animation)(m),u[o]}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.defaults,t=e.children,a=(e.out,e.forever),n=e.timeout,l=e.duration,o=void 0===l?i.defaults.duration:l,s=e.delay,m=void 0===s?i.defaults.delay:s,u=e.count,d=void 0===u?i.defaults.count:u,g=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),h={make:r,duration:void 0===n?o:n,delay:m,forever:a,count:d,style:{animationFillMode:"both"}};return g.left,g.right,g.mirror,g.opposite,(0,c.default)(g,h,h,t)}Object.defineProperty(t,"__esModule",{value:!0});var l,o=a(75),c=(l=o)&&l.__esModule?l:{default:l},s=a(2),i=a(55),m={out:s.bool,left:s.bool,right:s.bool,mirror:s.bool,opposite:s.bool,duration:s.number,timeout:s.number,delay:s.number,count:s.number,forever:s.bool},u={};n.propTypes=m,t.default=n,e.exports=t.default},215:function(e,t,a){"use strict";var r=a(5),n=a(6),l=a(8),o=a(7),c=a(9),s=a(0),i=a.n(s),m=a(16),u=a.n(m),d=a(214),g=a.n(d),h=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={shareButton:!1,androidShareButton:!1},a.shareLink=function(e){navigator.share&&navigator.share({url:e.link}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)})},a.shareLinkViaAndroidApp=function(e){"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.shareDataThroughIntent(e.link)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){navigator.share&&this.setState({shareButton:!0}),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({shareButton:!1,androidShareButton:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,this.state.shareButton&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:function(){return e.shareLink(e.props)}},i.a.createElement("i",{className:"si si-share"}),i.a.createElement(u.a,{duration:"500"})),this.state.androidShareButton&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:function(){return e.shareLinkViaAndroidApp(e.props)}},i.a.createElement("i",{className:"si si-share"}),i.a.createElement(u.a,{duration:"500"})))}}]),t}(s.Component),p=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"}},i.a.createElement("div",{className:"block m-0"},i.a.createElement("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark")},i.a.createElement("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box")},!this.props.disable_back_button&&i.a.createElement("div",{className:"input-group-prepend"},this.props.back_to_home&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),this.props.goto_orders_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-orders")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-account")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.goBack()},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"}))),i.a.createElement("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark")},this.props.logo&&i.a.createElement("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?i.a.createElement(i.a.Fragment,null,this.props.from_checkout?i.a.createElement("span",{className:"nav-page-title",id:"checkoutNavPageTitle"},localStorage.getItem("cartToPayText")," ",i.a.createElement("span",{style:{color:localStorage.getItem("storeColor")}},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))):i.a.createElement("span",{className:"nav-page-title"},this.props.title)):null,this.props.has_delivery_icon&&i.a.createElement(g.a,{left:!0},i.a.createElement("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"}))),this.props.has_restaurant_info?i.a.createElement("div",{className:"fixed-restaurant-info hidden",ref:function(t){e.heading=t}},i.a.createElement("span",{className:"font-w700 fixedRestaurantName"},this.props.restaurant.name),i.a.createElement("br",null),i.a.createElement("span",{className:"font-w400 fixedRestaurantTime"},i.a.createElement("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText"))):null,i.a.createElement("div",{className:"input-group-append"},!this.props.disable_search&&i.a.createElement("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"}},i.a.createElement("i",{className:"si si-magnifier"}),i.a.createElement(u.a,{duration:"500"})),this.props.homeButton&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},i.a.createElement("i",{className:"si si-home"}),i.a.createElement(u.a,{duration:"500"})),this.props.shareButton&&i.a.createElement(h,{link:window.location.href})))))))}}]),t}(s.Component);p.contextTypes={router:function(){return null}};t.a=p},216:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e){if(e){var t=parseFloat(e);return t=t.toFixed(2)}return 0}},227:function(e,t,a){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return r})},348:function(e,t,a){"use strict";a.r(t);var r=a(227),n=a(5),l=a(6),o=a(8),c=a(7),s=a(9),i=a(0),m=a.n(i),u=a(92),d=a(4),g=a(3),h=a.n(g),p=a(215),y=a(47),f=a(76),E=a(16),b=a.n(E),v=a(239),S=a.n(v),x=a(216),_=a(235),w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.order,a=e.user,r=e.cancelOrder;return m.a.createElement(m.a.Fragment,null,m.a.createElement("button",{className:"btn btn-square btn-sm btn-outline-danger mb-0 mt-15",style:{position:"relative",fontSize:"0.8rem"},onClick:this.handlePopupOpen},localStorage.getItem("cancelOrderMainButton"),m.a.createElement(b.a,{duration:"500"})),m.a.createElement(_.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},m.a.createElement("div",{className:"text-center mt-100"},m.a.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"500"}},m.a.createElement("i",{className:"si si-info",style:{fontSize:"4rem",opacity:"0.3",color:"#FF9800"}}),m.a.createElement("p",null,t.unique_order_id),m.a.createElement("p",null,localStorage.getItem("orderCancellationConfirmationText")),1===t.orderstatus_id||10===t.orderstatus_id?m.a.createElement(m.a.Fragment,null,"COD"!==t.payment_mode&&m.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),t.total," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText")),"COD"===t.payment_mode&&t.total-t.payable!==0&&m.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(x.a)(t.total-t.payable)," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText"))):m.a.createElement("p",{className:"text-muted font-w400"},localStorage.getItem("willNotBeRefundedText"))),m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-lg btn-danger mr-3",onClick:function(){return r(a.data.auth_token,a.data.id,t.id)},style:{border:"0",borderRadius:"0",backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("yesCancelOrderBtn")),m.a.createElement("button",{onClick:this.handlePopupClose,className:"btn btn-lg",style:{border:"0",borderRadius:"0"}},localStorage.getItem("cancelGoBackBtn"))))))}}]),t}(i.Component),I=a(99),N=a(245),O=a.n(N),k=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={showTimer:!1,timer:""},a.componentDidMount=function(){a.renderAwaitingPaymentTimer(a.props.order)},a.renderAwaitingPaymentTimer=function(e){if(8===e.orderstatus_id){var t=O()(new Date).unix(),r=O()(e.created_at).unix()+60*parseInt(localStorage.getItem("awaitingPaymentThreshold"))-t,n=O.a.duration(1e3*r,"milliseconds"),l=Object(I.a)(Object(I.a)(a));a.awaitingPaymentTimer=setInterval(function(){(n=O.a.duration(n-1e3,"milliseconds")).minutes()>=0&&n.seconds()>=0?l.setState({showTimer:!0,timer:n.minutes()+":"+n.seconds()}):l.setState({showTimer:!1,timer:""})},1e3)}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.awaitingPaymentTimer)}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.showTimer&&m.a.createElement("div",{className:"awaitingPaymentTimer small"},localStorage.getItem("awaitingPaymentTimerText")," ",m.a.createElement("b",{style:{color:localStorage.getItem("storeColor")}},this.state.timer)))}}]),t}(i.Component),F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).__getOrderStatus=function(e){return 1===e?localStorage.getItem("orderPlacedStatusText"):2===e?localStorage.getItem("preparingOrderStatusText"):3===e?localStorage.getItem("deliveryGuyAssignedStatusText"):4===e?localStorage.getItem("orderPickedUpStatusText"):5===e?localStorage.getItem("deliveredStatusText"):6===e?localStorage.getItem("canceledStatusText"):7===e?localStorage.getItem("readyForPickupStatusText"):8===e?localStorage.getItem("awaitingPaymentStatusText"):9===e?localStorage.getItem("paymentFailedStatusText"):10===e?localStorage.getItem("scheduledOrderStatusText"):11===e?localStorage.getItem("confirmedOrderStatusText"):void 0},a._getTotalItemCost=function(e){var t=parseFloat(e.price)*e.quantity;return e.order_item_addons.length&&e.order_item_addons.map(function(a){return t+=parseFloat(a.addon_price)*e.quantity}),Object(x.a)(t)},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.add("bg-grey")}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey")}},{key:"render",value:function(){var e=this,t=this.props,a=t.order,r=t.user,n=t.cancelOrder;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"bill-details mb-2 bg-white"},m.a.createElement("div",{className:"p-3",style:{borderRadius:"0.275rem"}},m.a.createElement("div",{className:"pull-right"},(1===a.orderstatus_id||2===a.orderstatus_id||3===a.orderstatus_id||4===a.orderstatus_id||7===a.orderstatus_id||8===a.orderstatus_id)&&m.a.createElement(f.a,{to:"/running-order/".concat(a.unique_order_id),className:"btn btn-square btn-outline-secondary mb-10 order-track-button",delay:250,style:{position:"relative"}},localStorage.getItem("trackOrderText"),m.a.createElement("span",{className:"pulse ml-2"}),m.a.createElement(b.a,{duration:"500"}))),m.a.createElement("div",{className:"pull-right"},a.is_ratable&&m.a.createElement(f.a,{to:"/rate-order/".concat(a.id),className:"btn btn-square btn-outline-secondary mb-10 order-track-button",delay:250,style:{position:"relative"}},localStorage.getItem("orderRateOrderButton"),m.a.createElement(b.a,{duration:"500"}))),m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},m.a.createElement("button",{className:"mr-5 btn btn-square btn-outline-secondary min-width-125 mb-10 order-status-button text-muted ".concat(6===a.orderstatus_id&&"text-danger"," ").concat(11===a.orderstatus_id&&"order-confirmed-badge")},this.__getOrderStatus(a.orderstatus_id)))),null!==a.schedule_slot&&m.a.createElement("p",{className:"mb-0 orderlist-scheduleSlot"},JSON.parse(a.schedule_date).day,", ",JSON.parse(a.schedule_date).date," (",JSON.parse(a.schedule_slot).open," - ",JSON.parse(a.schedule_slot).close,")"),m.a.createElement("span",{className:"text-muted pull-right",style:{fontSize:"0.9rem"}},"true"===localStorage.getItem("showFromNowDate")?m.a.createElement(S.a,{fromNow:!0},a.created_at):m.a.createElement(S.a,{format:"DD/MM/YYYY hh:mma"},a.created_at)),m.a.createElement("div",{className:"flex-auto"},m.a.createElement("h6",{className:"font-w700 mb-2",style:{color:localStorage.getItem("storeColor")}},a.unique_order_id),a.restaurant&&m.a.createElement(f.a,{to:"/stores/".concat(a.restaurant.slug),delay:100},m.a.createElement("h6",{className:"font-w600"},a.restaurant.name))),m.a.createElement("hr",null),a.orderitems.map(function(t){return m.a.createElement("div",{className:"mb-2",key:t.id},m.a.createElement("div",{className:"display-flex pb-5"},m.a.createElement("span",{className:"order-item-quantity mr-10"},"x",t.quantity),m.a.createElement("div",{className:"flex-auto text-left font-w600"},t.name),m.a.createElement("div",{className:"flex-auto text-right font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e._getTotalItemCost(t),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),t.order_item_addons.map(function(e){return m.a.createElement("div",{className:"display-flex pb-5",key:e.id},m.a.createElement("div",{className:"flex-auto text-left"},m.a.createElement("small",null,e.addon_name)),m.a.createElement("div",{className:"flex-auto text-right"},m.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.addon_price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))}))}),m.a.createElement("hr",null),m.a.createElement(m.a.Fragment,null,a.coupon_name&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},m.a.createElement("small",null,"Coupon: ")),m.a.createElement("div",{className:"flex-auto text-right"},m.a.createElement("small",null,a.coupon_name," ")," ",a.coupon_amount&&m.a.createElement("small",null,"(-","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.coupon_amount,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),")")))),null!==a.restaurant_charge&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},m.a.createElement("small",null,localStorage.getItem("cartRestaurantCharges"),":")," "),m.a.createElement("div",{className:"flex-auto text-right"},m.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.restaurant_charge,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},m.a.createElement("small",null,localStorage.getItem("cartDeliveryCharges"),":")," "),m.a.createElement("div",{className:"flex-auto text-right"},m.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.delivery_charge,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),null!==a.tip_amount&&m.a.createElement(m.a.Fragment,null,a.tip_amount>0&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement("div",{className:"flex-auto"},m.a.createElement("small",null,localStorage.getItem("tipText"),": ")),m.a.createElement("div",{className:"flex-auto text-right text-danger"},m.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.tip_amount,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),a.tax&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},m.a.createElement("small",null,localStorage.getItem("taxText"),": ")),m.a.createElement("div",{className:"flex-auto text-right text-danger"},m.a.createElement("small",null,a.tax,"%"," ",a.tax_amount&&m.a.createElement(m.a.Fragment,null,"(+","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.tax_amount,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),")"))))),m.a.createElement("div",{className:"display-flex mt-10 font-w700"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderTextTotal")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.total,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),a.wallet_amount&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderAmountPaidWithWallet"),":"),m.a.createElement("div",{className:"flex-auto text-right"},"-","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.wallet_amount,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),!(5===a.orderstatus_id||6===a.orderstatus_id)&&m.a.createElement(m.a.Fragment,null,"COD"===a.payment_mode&&m.a.createElement(m.a.Fragment,null,(null!==a.payable||"0.00"!==a.payable)&&m.a.createElement("div",{className:"display-flex mt-10"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderAmountRemainingToPay"),":"," "),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.payable,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),m.a.createElement("div",{className:"display-flex mt-10 font-w700"},m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderDetailsPaymentMode")),m.a.createElement("div",{className:"flex-auto text-right"},a.payment_mode)))),m.a.createElement("p",{className:"small mt-2 orderlist-address"},a.address),(1===a.orderstatus_id||10===a.orderstatus_id)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"pull-right"},m.a.createElement(w,{order:a,user:r,cancelOrder:n})),m.a.createElement("div",{className:"clearfix"})),8===a.orderstatus_id&&m.a.createElement(k,{order:a}))))}}]),t}(i.Component),T=a(363),A=a(18),j=a(56),C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={no_orders:!1,cancelSuccess:!1,orders:[],next_page:d.z,loading:!1,loading_more:!1},a.__getOrders=function(e){a.state.loading||(a.setState({loading:!0}),a.registerScrollEvent(),h.a.post(a.state.next_page,{token:e}).then(function(e){var t=e.data,n=t.data;n.length?a.setState({orders:[].concat(Object(r.a)(a.state.orders),Object(r.a)(n)),next_page:t.next_page_url,loading:!1,loading_more:!1}):a.setState({orders:[],loading:!1,loading_more:!1}),t.next_page_url||a.removeScrollEvent()}))},a.scrollFunc=function(){if(document.documentElement.scrollTop+50+window.innerHeight>document.documentElement.offsetHeight||document.documentElement.scrollTop+50+window.innerHeight===document.documentElement.offsetHeight){var e=a.props.user;a.setState({loading_more:!0}),a.__getOrders(e.data.auth_token)}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e.success&&this.__getOrders(e.data.auth_token)}},{key:"registerScrollEvent",value:function(){window.addEventListener("scroll",this.scrollFunc)}},{key:"removeScrollEvent",value:function(){window.removeEventListener("scroll",this.scrollFunc)}},{key:"componentWillReceiveProps",value:function(e){this.props.cancel!==e.cancel&&(e.cancel.success&&(this.setState({cancelSuccess:!0}),this.props.user.success&&window.location.reload()))}},{key:"componentWillUnmount",value:function(){this.removeScrollEvent()}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return m.a.createElement(T.a,{to:"/"});var t=this.props.user,a=this.state.orders;return null===localStorage.getItem("storeColor")?m.a.createElement(T.a,{to:"/"}):t.success?m.a.createElement(m.a.Fragment,null,m.a.createElement(j.a,{seotitle:localStorage.getItem("accountMyOrders"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),m.a.createElement(p.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("accountMyOrders"),disable_search:!0,goto_accounts_page:!0,homeButton:!0}),this.state.cancelSuccess&&m.a.createElement("div",{className:"auth-error cancel-success"},m.a.createElement("div",{className:""},localStorage.getItem("orderCancelledText"))),m.a.createElement("div",{className:"block-content block-content-full pt-80 pb-80 height-100-percent px-15"},this.state.loading&&m.a.createElement(y.a,{height:500,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},m.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:"60",rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:"90",rx:"0",ry:"0",width:"100",height:"18"}),m.a.createElement("rect",{x:"0",y:170,rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:200,rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:230,rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:260,rx:"0",ry:"0",width:"100",height:"18"}),m.a.createElement("rect",{x:"0",y:340,rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:370,rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:400,rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:430,rx:"0",ry:"0",width:"100",height:"18"})),!this.state.loading&&0===a.length&&m.a.createElement("div",{className:"text-center mt-50 font-w600 text-muted"},localStorage.getItem("noOrdersText")),a.map(function(a){return m.a.createElement(F,{key:a.id,order:a,user:t,cancelOrder:e.props.cancelOrder,cancel:e.props.cancel})}),this.state.loading_more&&m.a.createElement(y.a,{height:600,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},m.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:"60",rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:"90",rx:"0",ry:"0",width:"100",height:"18"}),m.a.createElement("rect",{x:"0",y:170,rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:200,rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:230,rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:260,rx:"0",ry:"0",width:"100",height:"18"}),m.a.createElement("rect",{x:"0",y:340,rx:"0",ry:"0",width:"75",height:"22"}),m.a.createElement("rect",{x:"0",y:370,rx:"0",ry:"0",width:"350",height:"18"}),m.a.createElement("rect",{x:"0",y:400,rx:"0",ry:"0",width:"300",height:"18"}),m.a.createElement("rect",{x:"0",y:430,rx:"0",ry:"0",width:"100",height:"18"})))):m.a.createElement(T.a,{to:"/login"})}}]),t}(i.Component);t.default=Object(A.b)(function(e){return{user:e.user.user,cancel:e.orders.cancel}},{getOrders:function(e){return function(t){h.a.post(d.z,{token:e}).then(function(e){var a=e.data;return t({type:u.b,payload:a})}).catch(function(e){console.log(e)})}},cancelOrder:function(e,t,a){return function(r){h.a.post(d.A,{token:e,user_id:t,order_id:a}).then(function(e){var t=e.data;return r({type:u.a,payload:t})}).catch(function(e){console.log(e)})}}})(C)}}]);