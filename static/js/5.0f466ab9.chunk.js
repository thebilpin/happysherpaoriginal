(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{237:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(6),l=a(8),o=a(7),s=a(9),i=a(0),c=a.n(i),m=a(47),d=a(56),u=a(363),g=a(18),y=a(126),p=a(4),h=a(3),v=a.n(h),f=a(242),E=a(16),b=a.n(E),w=a(239),_=a.n(w),N=a(185),x=a(243),S=a.n(x),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).__refreshOrders=function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.add("fa-spin"),setTimeout(function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.remove("fa-spin")},2e3),a.props.refreshOrders()},a.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props,a=t.new_orders,r=t.delivery_user;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mb-100"},c.a.createElement("div",{className:"d-flex justify-content-between nav-dark"},r.data.status?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryNewOrdersTitle")),c.a.createElement("div",{className:"delivery-order-refresh"},c.a.createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",c.a.createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),c.a.createElement(b.a,{duration:1200})))):null),r.data.status?c.a.createElement(c.a.Fragment,null,0===a.length?c.a.createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoNewOrders")):c.a.createElement("div",{className:"p-15"},c.a.createElement("div",{className:"delivery-list-wrapper pb-20"},a.map(function(t){return c.a.createElement(N.a,{to:"/delivery/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},c.a.createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",null,c.a.createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?c.a.createElement(_.a,{fromNow:!0},t.updated_at):c.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},t.updated_at))),c.a.createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&c.a.createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),c.a.createElement("div",null,c.a.createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),c.a.createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?c.a.createElement("span",null,t.address):c.a.createElement("span",{className:"d-flex align-items-center"},c.a.createElement("i",{className:"si si-pointer mr-2"}),c.a.createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))})))):c.a.createElement("div",{className:"d-flex justify-content-center pt-100"},c.a.createElement("div",{className:"delivery-guy-status delivery-guy-offline"},c.a.createElement("span",null,localStorage.getItem("deliveryAppYouAreOfflineBtn"))))))}}]),t}(i.Component),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).__refreshOrders=function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.add("fa-spin"),setTimeout(function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.remove("fa-spin")},2e3),a.props.refreshOrders()},a.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props.accepted_orders;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mb-100"},c.a.createElement("div",{className:"d-flex justify-content-between nav-dark"},c.a.createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryAcceptedOrdersTitle")),c.a.createElement("div",{className:"delivery-order-refresh"},c.a.createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",c.a.createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),c.a.createElement(b.a,{duration:1200})))),0===t.length?c.a.createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoOrdersAccepted")):c.a.createElement("div",{className:"p-15"},c.a.createElement("div",{className:"delivery-list-wrapper pb-20"},t.map(function(t){return c.a.createElement(N.a,{to:"/delivery/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},c.a.createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",null,c.a.createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?c.a.createElement(_.a,{fromNow:!0},t.updated_at):c.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},t.updated_at))),c.a.createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&c.a.createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),c.a.createElement("div",null,c.a.createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),c.a.createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?c.a.createElement("span",null,t.address):c.a.createElement("span",{className:"d-flex align-items-center"},c.a.createElement("i",{className:"si si-pointer mr-2"}),c.a.createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))})))))}}]),t}(i.Component),I=a(227),j=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.order;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("div",{className:"font-w700"},c.a.createElement("h4",{className:"mb-0 ".concat("true"===localStorage.getItem("deliveryAppLightMode")?"text-dark":"text-white")},"#",e.order.unique_order_id.substr(e.order.unique_order_id.length-6))),c.a.createElement("div",null,"true"===localStorage.getItem("showFromNowDate")?c.a.createElement(_.a,{fromNow:!0},e.updated_at):c.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},e.updated_at))),c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("div",{className:"mr-4"},e.is_complete?c.a.createElement("span",{className:"btn btn-sm btn-delivery-success min-width-125"},localStorage.getItem("deliveryCompletedText")):c.a.createElement("span",{className:"btn btn-sm btn-delivery-ongoing min-width-125"},localStorage.getItem("deliveryOnGoingText"))),c.a.createElement("div",null,"COD"===e.order.payment_mode?c.a.createElement("span",{className:"btn btn-sm btn-delivery-success min-width-175"},localStorage.getItem("deliveryCashOnDelivery"),":"," ","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.order.payable,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")):c.a.createElement("span",{className:"btn btn-sm btn-delivery-success min-width-175"},c.a.createElement("i",{className:"si si-check mr-2"})," ",localStorage.getItem("deliveryOnlinePayment")))),c.a.createElement("div",null,c.a.createElement("i",{className:"si si-pointer mr-1"})," ",e.order.address)))}}]),t}(i.Component),D=a(263),T=a.n(D),A=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={series:[{name:"Earnings",data:[0,0,0,0,0,0,0]}],options:{chart:{height:350,type:"line",zoom:{enabled:!1},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.8},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",colors:["#18c775"]},title:{text:localStorage.getItem("deliveryLastSevenDaysEarningTitle"),align:"left",style:{color:"#fafafa"}},grid:{row:{colors:["#222b45","transparent"],opacity:1}},xaxis:{labels:{style:{colors:["#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa"]}}},yaxis:{labels:{style:{colors:["#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa"]}}},test:{name:"saurabh",age:"27"}}},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=[{name:"Earnings",data:e.data.chartData}];this.setState({series:t})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(T.a,{options:this.state.options,series:this.state.series,type:"line",height:350}))}}]),t}(i.Component),F=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.transaction;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("div",null,c.a.createElement("h4",{className:"mb-0 ".concat("true"===localStorage.getItem("deliveryAppLightMode")?"text-dark":"text-white")},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.amount/100,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),c.a.createElement("div",null,"true"===localStorage.getItem("showFromNowDate")?c.a.createElement(_.a,{fromNow:!0},e.created_at):c.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},e.created_at))),c.a.createElement("div",{className:"mb-2 float-right"},"deposit"===e.type&&c.a.createElement("span",{className:"btn btn-sm delivery-wallet-deposit min-width-125"},localStorage.getItem("walletDepositText")),"withdraw"===e.type&&c.a.createElement("span",{className:"btn btn-sm delivery-wallet-withdraw min-width-125"},localStorage.getItem("walletWithdrawText"))),c.a.createElement("div",null,e.meta.description)))}}]),t}(i.Component),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={series:[{name:"Earnings",data:[0,0,0,0,0,0,0]}],options:{chart:{height:350,type:"line",zoom:{enabled:!1},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.8},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",colors:["#18c775"]},title:{text:localStorage.getItem("deliveryLastSevenDaysEarningTitle"),align:"left",style:{color:"#222b45"}},grid:{row:{colors:["#eee","transparent"],opacity:1}},xaxis:{labels:{style:{colors:["#222b45","#222b45","#222b45","#222b45","#222b45","#222b45","#222b45"]}}},yaxis:{labels:{style:{colors:["#222b45","#222b45","#222b45","#222b45","#222b45","#222b45","#222b45"]}}},test:{name:"saurabh",age:"27"}}},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=[{name:"Earnings",data:e.data.chartData}];this.setState({series:t})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(T.a,{options:this.state.options,series:this.state.series,type:"line",height:350}))}}]),t}(i.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).getRatingStars=function(e){var t="rating-green";return e<=3&&(t="rating-orange"),e<=2&&(t="rating-red"),c.a.createElement("span",{className:"store-rating "+t},e," ",c.a.createElement("i",{className:"fa fa-star text-white"}))},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},c.a.createElement("p",{className:"mb-0"},c.a.createElement("span",{className:"ml-1"},this.getRatingStars(this.props.rating))),c.a.createElement("p",{className:"mb-2"},this.props.review)))}}]),t}(i.Component),M=a(13),Y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!1,show_orderhistory:!0,show_earnings:!1,show_reviews:!1,show_completedOrders:!1,delivery_status:null,no_completedOrders:!1,completedOrders:[],next_page:p.m,loading_more:!1},a.filterOnGoingOrders=function(){a.props.updateDeliveryOrderHistory(a.props.delivery_user.data.orders.filter(function(e){return 0===e.is_complete})),a.setState({show_orderhistory:!0,show_earnings:!1,show_completedOrders:!1}),a.removeScrollEvent(),a.setState({completedOrders:[],next_page:p.m})},a.filterCompletedOrders=function(){a.__getCompletedOrder(a.props.delivery_user.data.auth_token),a.setState({show_orderhistory:!1,show_earnings:!1,show_reviews:!1,show_completedOrders:!0})},a.__getCompletedOrder=function(e){a.state.loading||(a.setState({loading:!0}),a.registerScrollEvent(),v.a.post(a.state.next_page,{token:e}).then(function(e){var t=e.data,r=t.data;console.log("Next Page URL: "+t.next_page_url),r.length?a.setState({completedOrders:[].concat(Object(I.a)(a.state.completedOrders),Object(I.a)(r)),next_page:t.next_page_url,loading:!1,loading_more:!1}):a.setState({completedOrders:[],loading:!1,loading_more:!1}),t.next_page_url||a.removeScrollEvent()}))},a.scrollFunc=function(){if(document.documentElement.scrollTop+50+window.innerHeight>document.documentElement.offsetHeight||document.documentElement.scrollTop+50+window.innerHeight===document.documentElement.offsetHeight){var e=a.props.delivery_user;a.setState({loading_more:!0}),a.__getCompletedOrder(e.data.auth_token)}},a.showEarningsTable=function(){a.setState({show_orderhistory:!1,show_earnings:!0,show_reviews:!1,show_completedOrders:!1}),a.removeScrollEvent(),a.setState({completedOrders:[],next_page:p.m})},a.showReviews=function(){a.setState({show_orderhistory:!1,show_earnings:!1,show_reviews:!0,show_completedOrders:!1}),a.removeScrollEvent(),a.setState({completedOrders:[],next_page:p.m})},a.handleToggleLightDarkMode=function(){null!==localStorage.getItem("deliveryAppLightMode")?new Promise(function(e){localStorage.removeItem("deliveryAppLightMode"),e("Removed Light State")}).then(function(){window.location.reload()}):new Promise(function(e){localStorage.setItem("deliveryAppLightMode","true"),e("Set Light State")}).then(function(){window.location.reload()})},a.toggleDeliveryOnOffStatus=function(){a.setState({loading:!0});var e=a.props.delivery_user;a.props.toggleDeliveryGuyStatus(e.data.auth_token).then(function(){a.setState({loading:!1})})},a.__changeStatusAndLogoutDelivery=function(){var e=a.props.delivery_user;e.success&&"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.logoutDelivery(),a.props.toggleDeliveryGuyStatus(e.data.auth_token,!0).then(function(){a.props.logoutDeliveryUser()})},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.delivery_user;this.props.updateDeliveryUserInfo(e.data.id,e.data.auth_token),document.getElementsByTagName("body")[0].classList.remove("bg-grey")}},{key:"registerScrollEvent",value:function(){window.addEventListener("scroll",this.scrollFunc)}},{key:"removeScrollEvent",value:function(){window.removeEventListener("scroll",this.scrollFunc)}},{key:"componentWillReceiveProps",value:function(e){this.props.delivery_user!==e.delivery_user&&this.setState({delivery_status:e.delivery_user.data.status})}},{key:"componentWillUnmount",value:function(){this.removeScrollEvent()}},{key:"render",value:function(){var e=this,t=this.props,a=t.delivery_user,r=t.order_history;return c.a.createElement(c.a.Fragment,null,this.state.loading&&c.a.createElement(M.a,null),c.a.createElement("div",{className:"d-flex justify-content-between nav-dark"},c.a.createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryWelcomeMessage")," ",a.data.name),c.a.createElement("div",{className:"delivery-order-refresh"},c.a.createElement("button",{className:"btn btn-delivery-logout mr-15",onClick:function(){return e.__changeStatusAndLogoutDelivery()}},localStorage.getItem("deliveryLogoutDelivery")," ",c.a.createElement("i",{className:"si si-logout"})))),c.a.createElement("div",null,c.a.createElement("button",{onClick:this.handleToggleLightDarkMode,className:"btn btn-default btn-block btn-toggleLightDark"},localStorage.getItem("deliveryToggleLightDarkMode"))),c.a.createElement("div",{onClick:this.toggleDeliveryOnOffStatus,className:"d-flex justify-content-center my-2"},null===this.state.delivery_status?c.a.createElement("div",{className:"delivery-guy-status delivery-guy-status-neutral"},c.a.createElement("span",null,c.a.createElement("div",{className:"spin-load"}))):c.a.createElement(c.a.Fragment,null,this.state.delivery_status?c.a.createElement("div",{className:"delivery-guy-status delivery-guy-online"},c.a.createElement("span",null,localStorage.getItem("deliveryAppYouAreOnlineBtn"))):c.a.createElement("div",{className:"delivery-guy-status delivery-guy-offline"},c.a.createElement("span",null,localStorage.getItem("deliveryAppYouAreOfflineBtn"))))),c.a.createElement("div",{className:"mb-100 pt-20"},c.a.createElement("div",{className:"pr-5"},"true"===localStorage.getItem("deliveryAppLightMode")?c.a.createElement(L,{data:a.chart}):c.a.createElement(A,{data:a.chart})),c.a.createElement("div",{className:"row gutters-tiny px-15 mt-20"},"true"===localStorage.getItem("enableDeliveryGuyEarning")&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-6",onClick:function(){return e.showEarningsTable()}},c.a.createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:a.data.wallet_balance,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryEarningsText")))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement("div",{className:"col-6",onClick:function(){return e.showEarningsTable()}},c.a.createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:a.data.totalEarnings,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryTotalEarningsText")))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"})))),c.a.createElement("div",{className:"col-6 col-xl-3",onClick:function(){return e.filterOnGoingOrders()}},c.a.createElement("div",{className:"block shadow-medium delivery-block-ongoing",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"float-right mt-10"},c.a.createElement("i",{className:"si si-control-forward fa-3x"})),c.a.createElement(S.a,{to:a.data.onGoingCount,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryOnGoingText"))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement("div",{className:"col-6 col-xl-3",onClick:function(){return e.filterCompletedOrders()}},c.a.createElement("div",{className:"block shadow-medium delivery-block-completed",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"float-right mt-10"},c.a.createElement("i",{className:"si si-check fa-3x"})),c.a.createElement(S.a,{to:a.data.completedCount,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryCompletedText"))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),"true"===localStorage.getItem("showDeliveryCollection")&&c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:a.data.deliveryCollection,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryCollectionText")))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement("div",{className:"col",onClick:function(){return e.showReviews()}},c.a.createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},c.a.createElement("div",{className:"block-content block-content-full clearfix text-white"},c.a.createElement("div",{className:"font-size-h3 font-w600"},c.a.createElement("i",{className:"fa fa-star mr-1"}),a.data.averageRating,c.a.createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("reviewsPageTitle")))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"})))),this.state.show_completedOrders&&c.a.createElement("div",{className:"orders-history px-15 mt-20"},this.state.completedOrders&&this.state.completedOrders.length>0?this.state.completedOrders.map(function(e){return c.a.createElement(j,{order:e,key:e.id})}):null),this.state.show_orderhistory&&c.a.createElement("div",{className:"orders-history px-15 mt-20"},r&&r.length>0?r.map(function(e){return c.a.createElement(j,{order:e,key:e.id})}):null),this.state.show_earnings&&c.a.createElement("div",{className:"delivery-earnings px-15 mt-20"},a.data.earnings&&a.data.earnings.map(function(e){return c.a.createElement(F,{key:e.id,transaction:e})})),this.state.show_reviews&&c.a.createElement("div",{className:"delivery-reviews px-15 mt-20"},a.data.ratings&&a.data.ratings.map(function(e){return c.a.createElement(C,{key:e.id,rating:e.rating_delivery,review:e.review_delivery})}))))}}]),t}(i.Component);Y.contextTypes={router:function(){return null}};var z=Object(g.b)(function(e){return{delivery_user:e.delivery_user.delivery_user,order_history:e.delivery_user.order_history}},{updateDeliveryUserInfo:f.e,updateDeliveryOrderHistory:f.d,toggleDeliveryGuyStatus:f.c})(Y),G=a(315),W=(a(306),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).__refreshOrders=function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.add("fa-spin"),setTimeout(function(){a.refs.btnSpinner&&a.refs.btnSpinner.classList.remove("fa-spin")},2e3),a.props.refreshOrders()},a.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props.pickedup_orders;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mb-100"},c.a.createElement("div",{className:"d-flex justify-content-between nav-dark"},c.a.createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryPickedupOrdersTitle")),c.a.createElement("div",{className:"delivery-order-refresh"},c.a.createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",c.a.createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),c.a.createElement(b.a,{duration:1200})))),0===t.length?c.a.createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoPickedupOrdersMsg")):c.a.createElement("div",{className:"p-15"},c.a.createElement("div",{className:"delivery-list-wrapper pb-20"},t.map(function(t){return c.a.createElement(N.a,{to:"/delivery/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},c.a.createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",null,c.a.createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?c.a.createElement(_.a,{fromNow:!0},t.updated_at):c.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},t.updated_at))),c.a.createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&c.a.createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),c.a.createElement(S.a,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),c.a.createElement("div",null,c.a.createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),c.a.createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?c.a.createElement("span",null,t.address):c.a.createElement("span",{className:"d-flex align-items-center"},c.a.createElement("i",{className:"si si-pointer mr-2"}),c.a.createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))})))))}}]),t}(i.Component)),q=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={play:!1,tabIndex:0},a.audio=new Audio("/assets/audio/delivery-notification.mp3"),a.__refreshOrders=function(){var e=a.props.delivery_user;e.success&&e.data.status&&(console.log("refresh orders called"),a.props.getDeliveryOrders(a.props.delivery_user.data.auth_token))},a.getLocationName=function(e){try{return console.log("Came to try"),c.a.createElement("span",{style:{maxWidth:"100px",display:"block"},className:"truncate-text"},JSON.parse(e).address)}catch(t){return null}},a.onTabSelect=function(e){localStorage.setItem("deliveryTabIndex",e),a.setState({tabIndex:e})},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.delivery_user.success&&this.props.getDeliveryOrders(this.props.delivery_user.data.auth_token),this.refreshSetInterval=setInterval(function(){e.__refreshOrders()},15e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.delivery_orders;t.new_orders&&e.delivery_orders.new_orders.length>t.new_orders.length&&"FoodomaaAndroidWebViewUA"!==navigator.userAgent&&(this.audio.play(),"vibrate"in navigator&&navigator.vibrate(["100","150","100","100","150","100"]))}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshSetInterval)}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return c.a.createElement(u.a,{to:"/"});var t=this.props.delivery_orders,a=t.accepted_orders,r=t.new_orders,n=t.pickedup_orders;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{seotitle:"Delivery Orders",seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),c.a.createElement(G.d,{selectedIndex:null===localStorage.getItem("deliveryTabIndex")?this.state.tabIndex:parseInt(localStorage.getItem("deliveryTabIndex")),onSelect:function(t){return e.onTabSelect(t)}},c.a.createElement("div",{className:"content font-size-xs clearfix footer-fixed",style:{display:"block",width:"100%",padding:"0",height:"4.6rem"}},c.a.createElement(G.b,null,c.a.createElement(G.a,null,c.a.createElement("div",{className:"text-center"},c.a.createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},r&&r.length),c.a.createElement("i",{className:"si si-bell fa-2x"})," ",c.a.createElement("br",null),localStorage.getItem("deliveryFooterNewTitle"),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement(G.a,null,c.a.createElement("div",{className:"text-center"},c.a.createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},a&&a.length),c.a.createElement("i",{className:"si si-grid fa-2x"})," ",c.a.createElement("br",null),localStorage.getItem("deliveryFooterAcceptedTitle"),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement(G.a,null,c.a.createElement("div",{className:"text-center"},c.a.createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},n&&n.length),c.a.createElement("i",{className:"si si-bag fa-2x"})," ",c.a.createElement("br",null),localStorage.getItem("deliveryFooterPickedup"),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))),c.a.createElement(G.a,null,c.a.createElement("div",{className:"text-center"},c.a.createElement("i",{className:"si si-user fa-2x"})," ",c.a.createElement("br",null)," ",localStorage.getItem("deliveryFooterAccount"),c.a.createElement(b.a,{duration:"500",hasTouch:"true"}))))),c.a.createElement(G.c,null,this.props.delivery_orders.new_orders?c.a.createElement(O,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,new_orders:this.props.delivery_orders.new_orders,delivery_user:this.props.delivery_user}):c.a.createElement("div",{className:"pt-50"},c.a.createElement(m.a,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"true"===localStorage.getItem("deliveryAppLightMode")?"#E0E0E0":"#161b31",secondaryColor:"true"===localStorage.getItem("deliveryAppLightMode")?"#fefefe":"#222b45"},c.a.createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),c.a.createElement(G.c,null,this.props.delivery_orders.accepted_orders?c.a.createElement(k,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,accepted_orders:this.props.delivery_orders.accepted_orders}):c.a.createElement("div",{className:"pt-50"},c.a.createElement(m.a,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"#161b31",secondaryColor:"#222b45"},c.a.createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),c.a.createElement(G.c,null,this.props.delivery_orders.pickedup_orders?c.a.createElement(W,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,pickedup_orders:this.props.delivery_orders.pickedup_orders}):c.a.createElement("div",{className:"pt-50"},c.a.createElement(m.a,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"#161b31",secondaryColor:"#222b45"},c.a.createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),c.a.createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),c.a.createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),c.a.createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),c.a.createElement(G.c,null,c.a.createElement(z,{delivery_user:this.props.delivery_user,logoutDeliveryUser:this.props.logoutDeliveryUser}))))}}]),t}(i.Component);t.default=Object(g.b)(function(e){return{delivery_user:e.delivery_user.delivery_user,delivery_orders:e.delivery_orders.delivery_orders}},{getDeliveryOrders:function(e){return function(t){v.a.post(p.u,{token:e}).then(function(e){var a=e.data;return t({type:y.a,payload:a})}).catch(function(e){console.log(e)})}},logoutDeliveryUser:f.b})(q)},242:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"e",function(){return c}),a.d(t,"d",function(){return m}),a.d(t,"c",function(){return d});var r=a(51),n=a(4),l=a(3),o=a.n(l),s=function(e,t){return function(a){o.a.post(n.V,{email:e,password:t}).then(function(e){var t=e.data;return a({type:r.a,payload:t})}).catch(function(e){console.log(e)})}},i=function(){return function(e){e({type:r.b,payload:[]})}},c=function(e,t){return function(a){o.a.post(n.ub,{token:t,user_id:e}).then(function(e){var t={delivery_user:e.data,order_history:e.data.data.orders};return a({type:r.d,payload:t})}).catch(function(e){console.log(e)})}},m=function(e){return function(t){t({type:r.c,payload:e})}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return o.a.post(n.tb,{token:e,toggle_status:!0,force_offline:t}).then(function(e){var t={delivery_user:e.data,order_history:e.data.data.orders};return a({type:r.d,payload:t})}).catch(function(e){console.log(e)})}}}}]);