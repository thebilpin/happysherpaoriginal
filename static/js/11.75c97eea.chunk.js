(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{218:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u});var o=n(33),r=n(4),a=n(3),s=n.n(a),i=function(e,t,n){return function(a){s.a.post(r.p,{user_id:e,token:t,restaurant_id:n}).then(function(e){var t=e.data;return a({type:o.b,payload:t})}).catch(function(e){console.log(e)})}},l=function(e,t,n,a,i,l,c,u){return function(p){s.a.post(r.kb,{token:t,user_id:e,latitude:n,longitude:a,address:i,house:l,tag:c,get_only_default_address:u}).then(function(e){var t=e.data;return p({type:o.c,payload:t})}).catch(function(e){console.log(e)})}},c=function(e,t,n){return function(a){s.a.post(r.l,{token:n,user_id:e,address_id:t}).then(function(e){var t=e.data;return a({type:o.a,payload:t})}).catch(function(e){console.log(e)})}},u=function(e,t,n){return function(a){return s.a.post(r.qb,{token:n,user_id:e,address_id:t}).then(function(e){var t=e.data;return a({type:o.d,payload:t})}).catch(function(e){console.log(e)})}}},222:function(e,t,n){"use strict";n.d(t,"b",function(){return S});var o=n(230),r=n.n(o),a=n(2),s=n.n(a),i="react-google-places-autocomplete";function l(e,t,n){return(l=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&c(r,n.prototype),r}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var p=function(e){var t=u({},e);return e.bounds&&(t.bounds=l(google.maps.LatLngBounds,e.bounds)),e.location&&(t.location=new google.maps.LatLng(e.location)),t},d=function(e,t){var n,o;return function(){var r=this,a=arguments;return clearTimeout(n),!(n=setTimeout(function(){n=null,o=e.apply(r,a)},t))&&(o=e.apply(r,a)),o}},g=s.a.shape({country:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])}),f=s.a.shape({lat:s.a.number,lng:s.a.number});s.a.shape({bounds:function(e,t,n){var o=e[t];return o?Array.isArray(o)&&2===o.length&&o.every(function(e){return 2===Object.keys(e).length&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")&&Number(e.lat)&&Number(e.lng)})?null:new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed."):null},componentRestrictions:g,location:f,offset:s.a.number,radius:s.a.number,types:s.a.arrayOf(s.a.string)}),s.a.shape({container:s.a.string,suggestion:s.a.string,suggestionActive:s.a.string}),s.a.shape({container:s.a.object,suggestion:s.a.object});function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function o(t){var n;return y(h(n=e.call(this,t)||this),"fetchSuggestions",d(function(e){var t=n.props,o=t.autocompletionRequest,r=t.withSessionToken,a=n.state.sessionToken,s=m({},o);r&&a&&(s.sessionToken=a),n.setState({loading:!0}),n.placesService.getPlacePredictions(m({},p(s),{input:e}),n.fetchSuggestionsCallback)},n.props.debounce)),y(h(n),"initalizeService",function(){return window.google?window.google.maps?window.google.maps.places?(n.placesService=new window.google.maps.places.AutocompleteService,n.setState({placesServiceStatus:window.google.maps.places.PlacesServiceStatus.OK}),void n.generateSessionToken()):(console.error("[react-google-places-autocomplete]: Google maps places script not loaded"),void setTimeout(n.initializeService,500)):(console.error("[react-google-places-autocomplete]: Google maps script not loaded"),void setTimeout(n.initalizeService,500)):(console.error("[react-google-places-autocomplete]: Google script not loaded"),void setTimeout(n.initalizeService,500))}),y(h(n),"generateSessionToken",function(){var e=new google.maps.places.AutocompleteSessionToken;n.setState({sessionToken:e})}),y(h(n),"handleClick",function(e){var t=n.props.idPrefix;e.target.id.includes(t+"-google-places-autocomplete")||n.clearSuggestions()}),y(h(n),"changeValue",function(e){n.setState({value:e}),e.length>0?n.fetchSuggestions(e):n.setState({suggestions:[]})}),y(h(n),"onSuggestionSelect",function(e,t){void 0===t&&(t=null),t&&t.stopPropagation();var o=n.props.onSelect;n.setState({activeSuggestion:null,suggestions:[],value:e.description}),n.generateSessionToken(),o(e)}),y(h(n),"fetchSuggestionsCallback",function(e,t){n.state.placesServiceStatus;n.setState({loading:!1,suggestions:e||[]})}),y(h(n),"handleKeyDown",function(e){var t=n.state,o=t.activeSuggestion,r=t.suggestions;switch(e.key){case"Enter":e.preventDefault(),null!==o&&n.onSuggestionSelect(r[o]);break;case"ArrowDown":n.changeActiveSuggestion(1);break;case"ArrowUp":n.changeActiveSuggestion(-1);break;case"Escape":n.clearSuggestions()}}),y(h(n),"clearSuggestions",function(){n.setState({activeSuggestion:null,suggestions:[]})}),y(h(n),"renderInput",function(){var e=h(n),t=e.state.value,o=e.props,a=o.idPrefix,s=o.inputClassName,i=o.inputStyle,l=o.placeholder,c=o.renderInput,u=o.required,p=o.disabled;return c?c({autoComplete:"off",id:(a?a+"-":"")+"react-google-places-autocomplete-input",value:t,onChange:function(e){var t=e.target;return n.changeValue(t.value)},onKeyDown:n.handleKeyDown,type:"text",placeholder:l,required:u,disabled:p}):r.a.createElement("input",{autoComplete:"off",className:s||"google-places-autocomplete__input",id:(a?a+"-":"")+"react-google-places-autocomplete-input",onChange:function(e){var t=e.target;return n.changeValue(t.value)},onKeyDown:n.handleKeyDown,placeholder:l,style:i,type:"text",value:t,required:u,disabled:p})}),y(h(n),"renderLoader",function(){var e=n.props.loader;return e||r.a.createElement("div",{className:"google-places-autocomplete__suggestions-container"},r.a.createElement("div",{className:"google-places-autocomplete__suggestions"},"Loading..."))}),y(h(n),"renderSuggestions",function(){var e=h(n),t=e.state,o=t.activeSuggestion,a=t.suggestions,s=e.props,i=s.idPrefix,l=s.renderSuggestions,c=s.suggestionsClassNames,u=s.suggestionsStyles;return 0===a.length?null:l?l(o,a,n.onSuggestionSelect):r.a.createElement("div",{id:i+"-google-places-suggestions-container",className:c.container||"google-places-autocomplete__suggestions-container",style:u.container},a.map(function(e,t){return r.a.createElement("div",{id:i+"-google-places-autocomplete-suggestion--"+t,key:e.id,className:(c.suggestion||"google-places-autocomplete__suggestion")+" "+(o===t?c.suggestionActive||"google-places-autocomplete__suggestion--active":""),style:u.suggestion,onClick:function(t){return n.onSuggestionSelect(e,t)},role:"presentation"},e.description)}))}),n.state={activeSuggestion:null,loading:!1,placesServiceStatus:null,sessionToken:null,suggestions:[],value:t.initialValue},n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.componentDidMount=function(){var e=this.props.apiKey;e&&function(e){var t=document.createElement("script");t.id=i,t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?key="+e+"&libraries=places",document.body.appendChild(t)}(e),this.initalizeService(),document.addEventListener("click",this.handleClick)},a.componentWillUnmount=function(){!function(){var e=document.getElementById(i);e&&document.body.removeChild(e)}(),document.removeEventListener("click",this.handleClick)},a.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.initialValue;e.initialValue!==t&&this.setState({value:e.initialValue})},a.changeActiveSuggestion=function(e){if(0!==this.state.suggestions.length)switch(e){case 1:this.setState(function(e){var t=e.activeSuggestion,n=e.suggestions;return null===t||t===n.length-1?{activeSuggestion:0}:{activeSuggestion:t+1}});break;case-1:this.setState(function(e){var t=e.activeSuggestion,n=e.suggestions;return t?{activeSuggestion:t-1}:{activeSuggestion:n.length-1}})}},a.render=function(){var e=this.state.loading;return r.a.createElement("div",{className:"google-places-autocomplete"},this.renderInput(),e?this.renderLoader():this.renderSuggestions())},o}(r.a.Component);v.propTypes={},v.defaultProps={apiKey:"",autocompletionRequest:{},debounce:300,disabled:!1,idPrefix:"",initialValue:"",inputClassName:"",inputStyle:{},loader:null,onSelect:function(){},placeholder:"Address...",renderInput:void 0,renderSuggestions:void 0,required:!1,suggestionsClassNames:{container:"",suggestion:"",suggestionActive:""},suggestionsStyles:{container:{},suggestion:{}},withSessionToken:!1};var S=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(o,r){t.geocode({placeId:e},function(e,t){return t!==n?r(t):o(e)})})};t.a=v},223:function(e,t,n){"use strict";var o=n(5),r=n(6),a=n(8),s=n(7),i=n(9),l=n(0),c=n.n(l),u=n(16),p=n.n(u),d=n(346),g=n(341),f=n(330),m=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(a.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={dropdownItem:null},n.handleSetDefaultAddress=function(e,t){e.target.classList.contains("si")||n.props.handleSetDefaultAddress(t.id,t)},n.handleDropdown=function(e){n.setState({dropdownItem:e.currentTarget})},n.handleDropdownClose=function(){n.setState({dropdownItem:null})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,o=t.address;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:!o.is_operational&&this.props.fromCartPage?"bg-white single-address-card d-flex no-click":"bg-white single-address-card d-flex",onClick:function(t){return e.handleSetDefaultAddress(t,o)},style:{position:"relative"}},c.a.createElement("div",{className:!o.is_operational&&this.props.fromCartPage?"address-not-usable w-100":"w-100"},n.data.default_address_id===o.id?c.a.createElement("button",{className:"btn btn-sm pull-right btn-address-default p-0 m-0",style:{border:"0",right:"0px",fontSize:"1.3rem"}},c.a.createElement("i",{className:"si si-check",style:{color:localStorage.getItem("storeColor")}}),c.a.createElement(p.a,{duration:200})):c.a.createElement(c.a.Fragment,null,this.props.fromCartPage&&c.a.createElement(c.a.Fragment,null,!o.is_operational&&c.a.createElement("span",{className:"text-danger text-uppercase font-w600 text-sm08"}," ",c.a.createElement("i",{className:"si si-close"})," ",localStorage.getItem("addressDoesnotDeliverToText")))),null!==o.tag&&c.a.createElement("h6",{className:"m-0 text-uppercase"},c.a.createElement("strong",null,o.tag)),c.a.createElement("div",null,null!==o.house&&c.a.createElement("p",{className:"m-0 text-capitalize"},null===o.tag?c.a.createElement("strong",null,o.house):c.a.createElement("span",null,o.house)),c.a.createElement("p",{className:"m-0 text-capitalize text-sm08"},o.address))),c.a.createElement("div",null,!this.props.fromCartPage&&this.props.deleteButton&&c.a.createElement(c.a.Fragment,null,n.data.default_address_id!==o.id&&c.a.createElement("button",{className:"btn btn-sm pull-right btn-address-default p-0 m-0 btn-delete-address",style:{border:"0",right:"0px",fontSize:"1.3rem",zIndex:2}},c.a.createElement("i",{className:"si si-trash",style:{fontSize:"1.3rem"},onClick:this.handleDropdown})))),c.a.createElement(p.a,{duration:500,hasTouch:!0})),c.a.createElement(d.a,{id:"simple-menu",keepMounted:!0,anchorEl:this.state.dropdownItem,open:Boolean(this.state.dropdownItem),onClose:this.handleDropdownClose,TransitionComponent:f.a,MenuListProps:{disablePadding:!0},elevation:3,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(g.a,{onClick:function(){e.props.handleDeleteAddress(o.id),e.handleDropdownClose()}},localStorage.getItem("deleteAddressText"))))}}]),t}(l.Component);t.a=m},230:function(e,t,n){"use strict";e.exports=n(231)},231:function(e,t,n){"use strict";var o=n(78),r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,g=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,h="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function b(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||v}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var _=E.prototype=new w;_.constructor=E,o(_,b.prototype),_.isPureReactComponent=!0;var k={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var o,r={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,o)&&!x.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:a,type:e,key:s,ref:i,props:r,_owner:k.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g,A=[];function I(e,t,n,o){if(A.length){var r=A.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=o,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:o,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function D(e,t,n){return null==e?0:function e(t,n,o,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var l=!1;if(null===t)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case s:l=!0}}if(l)return o(r,t,""===n?"."+T(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+T(i=t[c],c);l+=e(i,u,o,r)}else if(u=null===t||"object"!==typeof t?null:"function"===typeof(u=h&&t[h]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),c=0;!(i=t.next()).done;)l+=e(i=i.value,u=n+T(i,c++),o,r);else if("object"===i)throw o=""+t,Error(y(31,"[object Object]"===o?"object with keys {"+Object.keys(t).join(", ")+"}":o,""));return l}(e,"",t,n)}function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var o=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?$(e,o,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),o.push(e))}function $(e,t,n,o,r){var a="";null!=n&&(a=(""+n).replace(N,"$&/")+"/"),D(e,L,t=I(t,a,o,r)),j(t)}var F={current:null};function z(){var e=F.current;if(null===e)throw Error(y(321));return e}var M={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:o};t.Children={map:function(e,t,n){if(null==e)return e;var o=[];return $(e,o,null,t,n),o},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=I(null,null,t,n)),j(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return $(e,t,null,function(e){return e}),t},only:function(e){if(!O(e))throw Error(y(143));return e}},t.Component=b,t.Fragment=i,t.Profiler=c,t.PureComponent=E,t.StrictMode=l,t.Suspense=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var r=o({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var p=0;p<u;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:a,type:e.type,key:s,ref:i,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.13.1"},84:function(e,t,n){"use strict";n.r(t);var o=n(5),r=n(6),a=n(8),s=n(7),i=n(9),l=n(0),c=n.n(l),u=n(77),p=n.n(u),d=n(222),g=n(56),f=n(47),m=n(16),h=n.n(m),y=function(e){function t(){return Object(o.a)(this,t),Object(a.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.locations,o=e.handlePopularLocationClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-15 mt-15"},t?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("searchPopularPlaces")),c.a.createElement(f.a,{height:160,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"15",ry:"15",width:"125",height:"30"}),c.a.createElement("rect",{x:"135",y:"0",rx:"15",ry:"15",width:"100",height:"30"}),c.a.createElement("rect",{x:"245",y:"0",rx:"15",ry:"15",width:"110",height:"30"}),c.a.createElement("rect",{x:"0",y:"40",rx:"15",ry:"15",width:"85",height:"30"}),c.a.createElement("rect",{x:"95",y:"40",rx:"15",ry:"15",width:"125",height:"30"}))):c.a.createElement(c.a.Fragment,null,n.length>0&&c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("searchPopularPlaces")),n.map(function(e,t){return c.a.createElement(p.a,{top:!0,delay:80*t,key:e.id},c.a.createElement("button",{type:"button",className:"btn btn-rounded btn-alt-secondary btn-md mb-15 mr-15",style:{position:"relative"},onClick:function(){o(e)}},c.a.createElement(h.a,{duration:"500"}),e.name))}))))}}]),t}(l.Component),v=n(363),S=n(18),b=n(104),w=n(218),E=n(79),_=n(223),k=n(103),C=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(a.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={google_script_loaded:!1,loading_popular_location:!0,gps_loading:!1},n.handleSetDefaultAddress=function(e,t){var o=n.props.user;o.success&&n.props.setDefaultAddress(o.data.id,e,o.data.auth_token).then(function(){new Promise(function(e){var n={lat:t.latitude,lng:t.longitude,address:t.address,house:t.house,tag:t.tag};localStorage.setItem("userSetAddress",JSON.stringify(n)),e("Address Saved")}).then(function(){"1"===localStorage.getItem("fromCart")?(localStorage.removeItem("fromCart"),n.context.router.history.push("/cart")):(n.props.clearRestaurantList(),n.context.router.history.push("/"))})})},n.handlePopularLocationClick=function(e){var t={lat:e.latitude,lng:e.longitude,address:e.name,house:null,tag:null,businessLocation:!0};localStorage.setItem("userSetAddress",JSON.stringify(t)),new Promise(function(e){localStorage.setItem("userSetAddress",JSON.stringify(t)),localStorage.setItem("userAlreadySelectedLocation","true"),e("Location Saved")}).then(function(){window.location.replace("/")})},n.handleGeoLocationClick=function(e){new Promise(function(t){localStorage.setItem("geoLocation",JSON.stringify(e[0])),t("GeoLocation Saved")}).then(function(){n.context.router.history.push("/my-location")})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.getPopularLocations(),this.searchInput&&this.searchInput.focus(),!document.getElementById("googleMaps")){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key="+localStorage.getItem("googleApiKey")+"&libraries=places",t.id="googleMaps",document.body.appendChild(t),t.onload=function(){e.setState({google_script_loaded:!0})}}var n=this.props.user;n.success&&this.props.getAddresses(n.data.id,n.data.auth_token,this.state.restaurant_id)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("googleMaps");e&&e.parentNode.removeChild(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.popular_locations!==e.popular_locations&&this.setState({loading_popular_location:!1})}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return c.a.createElement(v.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return c.a.createElement(v.a,{to:"/"});var t=this.props,n=t.user,o=t.popular_locations,r=t.addresses;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{seotitle:localStorage.getItem("seoMetaTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),c.a.createElement("div",{className:"col-12 p-0 pt-0"},this.state.google_script_loaded&&c.a.createElement(d.a,{debounce:750,withSessionToken:!0,loader:c.a.createElement("img",{src:"/assets/img/various/spinner.svg",className:"location-loading-spinner",alt:"loading"}),renderInput:function(t){return c.a.createElement("div",{className:"input-location-icon-field"},c.a.createElement("i",{className:"si si-magnifier"}),c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("button",{type:"button",className:"btn search-navs-btns location-back-button",style:{position:"relative"},onClick:function(){return e.context.router.history.goBack()}},c.a.createElement("i",{className:"si si-arrow-left"}),c.a.createElement(h.a,{duration:"500"})),c.a.createElement("input",Object.assign({},t,{className:"form-control search-input",placeholder:localStorage.getItem("searchAreaPlaceholder"),ref:function(t){e.searchInput=t}}))))},renderSuggestions:function(t,n,o){return c.a.createElement("div",{className:"location-suggestions-container"},n.map(function(t,n){return c.a.createElement(p.a,{top:!0,delay:50*n,key:t.id},c.a.createElement("div",{className:"location-suggestion",onClick:function(n){o(t,n),Object(d.b)(t.place_id).then(function(t){return e.handleGeoLocationClick(t)}).catch(function(e){return console.error(e)})}},c.a.createElement("span",{className:"location-main-name"},t.structured_formatting.main_text),c.a.createElement("br",null),c.a.createElement("span",{className:"location-secondary-name"},t.structured_formatting.secondary_text)))}),c.a.createElement("img",{src:"/assets/img/various/powered_by_google_on_white.png",alt:"powered by Google",className:"pl-15"}))}})),c.a.createElement(k.a,{fetchGpsAutomaticallyAndroid:!1}),null===localStorage.getItem("fromCart")&&c.a.createElement(y,{loading:this.state.loading_popular_location,handlePopularLocationClick:this.handlePopularLocationClick,locations:o}),n.success&&r.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-15 mt-10 location-saved-address"},c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("locationSavedAddresses")),r.map(function(t){return c.a.createElement(_.a,{handleDeleteAddress:e.handleDeleteAddress,deleteButton:!1,key:t.id,address:t,user:n,fromCartPage:!1,handleSetDefaultAddress:e.handleSetDefaultAddress})}))))}}]),t}(l.Component);C.contextTypes={router:function(){return null}};t.default=Object(S.b)(function(e){return{user:e.user.user,popular_locations:e.popular_locations.popular_locations,addresses:e.addresses.addresses}},{getPopularLocations:b.a,getAddresses:w.b,setDefaultAddress:w.d,clearRestaurantList:E.a})(C)}}]);